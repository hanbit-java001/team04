<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=EUC-KR">
<link href="/static/css/table.css" rel="stylesheet" />
<script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
<script type="text/javascript">
	$(function(){
		$("#addFileBtn").click(function(){
			var fileCount = $('input[type=file]').length;
			var input ='<br><input type="file" name="myFiles['+fileCount+']">';
			$('#contentFile').append(input);
			
			return false; // submit으로 이벤트 전달되는 현상 막기 
		})
	})
</script>
<script>
	function formCheck() {
		var title = document.forms[0].bTitle;
		var writer = document.forms[0].bWriter;
// 		var regdate = document.forms[0].bWriteDate;
		var content = document.forms[0].bContent;
		if (title.value == null || title.value == "") {

			alert('insert title.');

			document.forms[0].title.focus();

			return false;

		}

		if (writer.value == null || writer.value == "") {

			alert('insert writer');

			document.forms[0].writer.focus();

			return false;

		} 

		if (content.value == null || content.value == "") {

			alert('insert content.');

			document.forms[0].content.focus();

			return false;

		}

		/*

		if (regdate.value == null || regdate.value == "" ){                             

			alert('insert date');    

			document.forms[0].regdate.focus();                       

			return false;             

		}else if(regdate.value.match(/^\d\d\d\d\d\d+$/ig)   == null){

			alert('wrong format. please insert Number(6)');  

			document.forms[0].regdate.focus();                       

			return false;  

		}

		 */

	}
</script>
</head>
<body>

	<form action="write.do" method="post"
		enctype="multipart/form-data" onsubmit="return formCheck();">

		<table style="width: 580px;" id="writeTable">

			<caption>글쓰기</caption>
			<tr>
				<th>작성자</th>
				<td><input type="text" name="bWriter" size="20" /></td>
			</tr>
			<tr>
				<th>제목</th>
				<td><input type="text" name="bTitle" size="60" /></td>
			</tr>
			<tr>
				<th>암호</th>
				<td><input type="text" name="bPassword" size="60" /></td>
			</tr>
			<tr>
				<th height="300px">내용</th>
				<td><textarea rows="18" cols="60" name="bContent"></textarea></td>
			</tr>
			<tr>
				<th>첨부파일<br>
					<button type="button" id="addFileBtn">파일추가</button><br>
				</th>
				<td>
					<div id="contentFile">
						<input type="file" name="myFiles[0]">
					</div>
				</td>
			</tr>
		</table>
		<input type="submit" value="글쓰기" style="float: left:;" />
	</form>
</body>
</html>

